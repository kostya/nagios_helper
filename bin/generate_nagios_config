#!/usr/bin/env ruby
$:.unshift(File.expand_path(File.join(File.dirname(__FILE__), %w{.. lib})))
require 'nagios/boot'

raise "RAILS_ROOT not found" unless defined?(RAILS_ROOT)
require File.expand_path(File.join(RAILS_ROOT, %w{config environment}))
require 'nagios'

Nagios.load_initializers

Dir[Nagios.root + "/**/*.rb"].each do |file|
  require file
end

def list_cfg(cls)
  url = cls.url
  
  <<-S
    
  S  
end

Nagios.constants.each do |c|
  if c.ancestors.include?(Nagios::Check)
    puts list_cfg(c)
    puts    
  end
end